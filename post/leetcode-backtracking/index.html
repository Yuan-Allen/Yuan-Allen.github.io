<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰ | AllenY&#39;s blog</title>
<link rel="shortcut icon" href="https://alleny.xyz/favicon.ico?v=1747120786321">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://alleny.xyz/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰ | AllenY&#39;s blog - Atom Feed" href="https://alleny.xyz/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HPLP8D1S43"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HPLP8D1S43');
</script>


    <meta name="description" content="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚

[46] Permutations

éš¾åº¦ï¼šMedium
è¯­è¨€ï¼šC++

é¢˜ç›®æè¿°ã€‚
ä½¿ç”¨usedæ¥è®°å½•å½“å‰å·²ä½¿ç”¨çš„å…ƒç´ ï¼Œå°è¯•å¢åŠ usedï¼Œé€’å½’è°ƒç”¨ï¼Œè®°å½•pathï¼Œåœ¨pathé•¿åº¦è¾¾åˆ°nums...." />
    <meta name="keywords" content="LeetCode" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://alleny.xyz">
  <img class="avatar" src="https://alleny.xyz/images/avatar.png?v=1747120786321" alt="">
  </a>
  <h1 class="site-title">
    AllenY&#39;s blog
  </h1>
  <p class="site-description">
    ğŸ§‘ğŸ»â€ğŸ’»ğŸ®ğŸ¿ğŸ¹ğŸ—»
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tags
        </a>
      
    
      
        <a href="/post/about" class="menu">
          About
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Yuan-Allen" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
        <a href="https://weibo.com/u/6478080851" target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰
            </h2>
            <div class="post-info">
              <span>
                2024-10-31
              </span>
              <span>
                14 min read
              </span>
              
                <a href="https://alleny.xyz/tag/leetcode/" class="post-tag">
                  # LeetCode
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚</p>
<!-- more -->
<h2 id="46-permutations">[46] Permutations</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/permutations/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
ä½¿ç”¨<code>used</code>æ¥è®°å½•å½“å‰å·²ä½¿ç”¨çš„å…ƒç´ ï¼Œå°è¯•å¢åŠ <code>used</code>ï¼Œé€’å½’è°ƒç”¨ï¼Œè®°å½•<code>path</code>ï¼Œåœ¨<code>path</code>é•¿åº¦è¾¾åˆ°<code>nums.size()</code>æ—¶å°†ç»“æœè®°å½•åˆ°<code>result</code>å³å¯ã€‚</p>
<pre><code class="language-c++">class Solution {
public:
  void backtracking(vector&lt;int&gt; &amp;nums, vector&lt;bool&gt; &amp;used, vector&lt;int&gt; &amp;path,
                    vector&lt;vector&lt;int&gt;&gt; &amp;result) {
    int size = nums.size();

    if (path.size() == size) {
      result.push_back(path);
      return;
    }

    for (int i = 0; i &lt; size; ++i) {
      if (used[i]) {
        continue;
      }
      used[i] = true;
      path.push_back(nums[i]);
      backtracking(nums, used, path, result);
      path.pop_back();
      used[i] = false;
    }
    return;
  }
  vector&lt;vector&lt;int&gt;&gt; permute(vector&lt;int&gt; &amp;nums) {
    vector&lt;bool&gt; used(nums.size(), false);
    vector&lt;int&gt; path;
    vector&lt;vector&lt;int&gt;&gt; result;
    backtracking(nums, used, path, result);
    return result;
  }
};
</code></pre>
<h2 id="78-subsets">[78] Subsets</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/subsets/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
ç›¸æ¯”ä¸Šä¸€é¢˜æ±‚å…¨æ’åˆ—ï¼Œè¿™ä¸€é¢˜çš„ä¸åŒç‚¹æœ‰äºŒï¼š</p>
<ul>
<li>æˆ‘ä»¬è¦æ±‚çš„æ˜¯å­é›†ï¼Œå•ä¸ªé›†åˆä¸è¦æ±‚åŒ…å«æ‰€æœ‰å…ƒç´ ï¼Œå› æ­¤åœ¨è¿™æ£µé€’å½’æ ‘ä¸Šï¼Œæˆ‘ä»¬è¦æ±‚çš„ä¸æ­¢æ˜¯å¶å­èŠ‚ç‚¹ï¼Œè€Œæ˜¯æ‰€æœ‰èŠ‚ç‚¹ã€‚å› æ­¤ä¸æ˜¯åœ¨é€’å½’ç»“æŸçš„æ—¶å€™è®°å½•ç»“æœï¼Œè€Œæ˜¯æ¯æ¬¡è°ƒç”¨éƒ½è®°å½•ä¸€ä¸‹ç»“æœã€‚</li>
<li>ç›¸æ¯”å…¨æ’åˆ—ï¼Œé›†åˆå¯¹å…ƒç´ çš„é¡ºåºä¸å†åšè¦æ±‚ã€‚å› æ­¤ç›¸æ¯”ä¹‹å‰ä½¿ç”¨<code>used</code>æ•°ç»„ï¼Œè¿™é‡Œå¯ä»¥åªè®°å½•<code>startIndex</code>ï¼Œç„¶åæ¯æ¬¡é€’å½’ä»<code>startIndex</code>å¾€åéå†ï¼Œæ¥åšåˆ°åŒ…å«ä¸åŒçš„å…ƒç´ ç»„åˆã€‚</li>
</ul>
<pre><code class="language-c++">class Solution {
  public:
    void backtracking(vector&lt;int&gt; &amp;nums, int startIndex, vector&lt;int&gt; &amp;path,
                      vector&lt;vector&lt;int&gt;&gt; &amp;result) {
        int size = nums.size();
        result.push_back(path);
        for (int i = startIndex; i &lt; size; ++i) {
            path.push_back(nums[i]);
            backtracking(nums, i + 1, path, result);
            path.pop_back();
        }
    }

    vector&lt;vector&lt;int&gt;&gt; subsets(vector&lt;int&gt; &amp;nums) {
        vector&lt;int&gt; path;
        vector&lt;vector&lt;int&gt;&gt; result;
        backtracking(nums, 0, path, result);
        return result;
    }
};
</code></pre>
<h2 id="17-letter-combinations-of-a-phone-number">[17] Letter Combinations of a Phone Number</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/letter-combinations-of-a-phone-number/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
æ„é€ ä¸€ä¸ª<code>mapping</code>ç”¨æ¥å­˜æ•°å­—åˆ°å­—æ¯çš„æ˜ å°„ï¼ŒåŒæ—¶ç”¨<code>mapping[digits[startIndex] - '2']</code>æ¥å–è¿™ä¸ªæ˜ å°„ã€‚å›æº¯éƒ¨åˆ†å’Œä¹‹å‰å¤§åŒå°å¼‚ï¼Œæ›´æ–°ä¸€ä¸‹startIndexï¼ŒåŒæ—¶è®°å½•è·¯å¾„ï¼Œæœ€ååŠ è¿›<code>result</code>å³å¯ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    const vector&lt;string&gt; mapping = {&quot;abc&quot;, &quot;def&quot;,  &quot;ghi&quot;, &quot;jkl&quot;,
                                    &quot;mno&quot;, &quot;pqrs&quot;, &quot;tuv&quot;, &quot;wxyz&quot;};

    void backtracking(string &amp;digits, int startIndex, string &amp;path,
                      vector&lt;string&gt; &amp;result) {
        int size = digits.size();
        if (startIndex &gt;= size) {
            if (size &gt; 0) {
                result.push_back(path);
            }
            return;
        }

        string chars = mapping[digits[startIndex] - '2'];
        int numChars = chars.size();

        for (int i = 0; i &lt; numChars; ++i) {
            path.push_back(chars[i]);
            backtracking(digits, startIndex + 1, path, result);
            path.pop_back();
        }
    }

    vector&lt;string&gt; letterCombinations(string digits) {
        vector&lt;string&gt; result;
        string path;
        backtracking(digits, 0, path, result);
        return result;
    }
};
</code></pre>
<h2 id="39-combination-sum">[39] Combination Sum</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/combination-sum/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
å¯¹å›æº¯çš„ä»£ç é€æ¸ç†Ÿç»ƒï¼ŒåŒæ ·æ˜¯ä¸€æ¬¡å†™å‡ºç­”æ¡ˆã€‚<br>
å’Œä¹‹å‰çš„ä»£ç å¤§åŒå°å¼‚ã€‚è¿™é‡Œå› ä¸º<code>candidates[i]</code>æ˜¯å¤§äº0çš„ï¼Œæ‰€ä»¥å‡ºç°<code>new_sum == target</code>å°±ä¸ç”¨ç»§ç»­é€’å½’äº†ã€‚<br>
å½“æˆ‘ä»¬é€‰æ‹©äº†æŸä¸ªæ•°å­—ï¼Œåˆ™ä»¥åçš„é€’å½’åªä¼šè€ƒè™‘è¯¥æ•°å­—ä»¥åŠä¹‹åçš„æ•°å­—ï¼Œä¸å†è€ƒè™‘ä¹‹å‰çš„æ•°å­—ï¼Œè¿™ä¿è¯äº†ç»“æœçš„å”¯ä¸€æ€§ï¼ˆä¸å‡ºç°é‡å¤ç»„åˆï¼‰ã€‚<br>
è¿™é“é¢˜çš„å…³é”®åœ¨äºæ•°å­—æ˜¯å¯ä»¥é‡å¤ä½¿ç”¨çš„ï¼Œè¿™é‡Œæˆ‘ä»¬ç”¨é€’å½’å‚æ•°æ‰€ä½¿ç”¨çš„<code>index</code>ä¸º<code>i</code>è€Œä¸æ˜¯<code>i+1</code>æ¥ä½“ç°ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    void backtracking(const vector&lt;int&gt; &amp;candidates, const int target,
                      int index, int cur_sum, vector&lt;int&gt; &amp;choosen,
                      vector&lt;vector&lt;int&gt;&gt; &amp;result) {
        int size = candidates.size();
        if (index &gt;= size) {
            return;
        }

        for (int i = index; i &lt; size; ++i) {
            int new_sum = cur_sum + candidates[i];
            if (new_sum &gt; target) {
                continue;
            }
            choosen.push_back(candidates[i]);
            if (new_sum == target) {
                result.push_back(choosen);
                // 0 will not appear in candidates, and 2 &lt;= candidates[i] &lt;= 40
                // so no need to backtrack further
            } else {
                backtracking(candidates, target, i, new_sum, choosen, result);
            }
            choosen.pop_back();
        }
    }

    vector&lt;vector&lt;int&gt;&gt; combinationSum(vector&lt;int&gt; &amp;candidates, int target) {
        vector&lt;int&gt; choosen;
        vector&lt;vector&lt;int&gt;&gt; result;
        backtracking(candidates, target, 0, 0, choosen, result);
        return result;
    }
};
</code></pre>
<h2 id="22-generate-parentheses">[22] Generate Parentheses</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/generate-parentheses/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
å›æº¯æ—¶åŒæ—¶è®°å½•å·¦æ‹¬å·å’Œå³æ‹¬å·çš„å‰©ä½™æ•°é‡ã€‚è‹¥å·¦æ‹¬å·å‰©ä½™æ•°é‡å¤§äº0åˆ™å¯ä»¥æ·»åŠ å·¦æ‹¬å·ã€‚è‹¥å³æ‹¬å·å‰©ä½™æ•°é‡å¤§äºå·¦æ‹¬å·ï¼ˆé˜²æ­¢å…ˆå³æ‹¬å·åå·¦æ‹¬å·å¯¼è‡´æ— æ³•åŒ¹é…ï¼‰åˆ™å¯ä»¥æ·»åŠ å³æ‹¬å·ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    void backtracking(int left, int right, string &amp;s, vector&lt;string&gt; &amp;result) {
        if (left == 0 &amp;&amp; right == 0) {
            result.push_back(s);
            return;
        }

        if (left &gt; 0) {
            s.push_back('(');
            backtracking(left - 1, right, s, result);
            s.pop_back();
        }
        if (right &gt; left) {
            s.push_back(')');
            backtracking(left, right - 1, s, result);
            s.pop_back();
        }
    }

    vector&lt;string&gt; generateParenthesis(int n) {
        string s;
        vector&lt;string&gt; result;
        backtracking(n, n, s, result);
        return result;
    }
};
</code></pre>
<h2 id="79-word-search">[79] Word Search</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/word-search/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
ä»£ç æœ‰äº›ç±»ä¼¼DFSã€‚è®°å½•å½“å‰åæ ‡<code>x</code>å’Œ<code>y</code>ä»¥åŠè¦åŒ¹é…çš„å­—ç¬¦çš„index <code>k</code>ã€‚å¦‚æœå½“å‰å­—ç¬¦ä¸å¯¹åˆ™é€’å½’ç»ˆæ­¢ï¼Œå¦åˆ™çœ‹<code>k</code>æ˜¯å¦å·²ç»åˆ°<code>word</code>çš„æœ€åä¸€ä¸ªäº†ï¼Œå¦‚æœæ²¡æœ‰å°±é€šè¿‡DFSçš„æ–¹å¼å»æœç´¢å‘¨å›´å››ä¸ªã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    vector&lt;pair&lt;int, int&gt;&gt; directions = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};

    bool backtracking(const vector&lt;vector&lt;char&gt;&gt; &amp;board, const string &amp;word,
                      int x, int y, int k, vector&lt;vector&lt;bool&gt;&gt; &amp;visited) {
        if (board[x][y] != word[k]) {
            return false;
        } else if (k == word.size() - 1) {
            return true;
        }

        int m = board.size();
        int n = board[0].size();
        visited[x][y] = true;
        for (auto [dx, dy] : directions) {
            int nx = x + dx, ny = y + dy;
            if (nx &lt; 0 || ny &lt; 0 || nx &gt;= m || ny &gt;= n || visited[nx][ny]) {
                continue;
            }
            if (backtracking(board, word, nx, ny, k + 1, visited)) {
                return true;
            }
        }
        visited[x][y] = false;
        return false;
    }

    bool exist(vector&lt;vector&lt;char&gt;&gt; &amp;board, string word) {
        int m = board.size();
        int n = board[0].size();

        vector&lt;vector&lt;bool&gt;&gt; visited(board.size(),
                                     vector&lt;bool&gt;(board[0].size(), false));
        for (int i = 0; i &lt; m; ++i) {
            for (int j = 0; j &lt; n; ++j) {
                if (backtracking(board, word, i, j, 0, visited)) {
                    return true;
                }
            }
        }
        return false;
    }
};
</code></pre>
<h2 id="131-palindrome-partitioning">[131] Palindrome Partitioning</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/palindrome-partitioning/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
è¿˜æ˜¯å›æº¯é¢˜çš„è€å¥—è·¯ã€‚è®°å½•ä¸€ä¸‹<code>startIndex</code>ï¼Œç„¶å<code>for</code>å¾ªç¯ä»<code>startIndex</code>å¼€å§‹æ‰¾ä¸‹ä¸€ä¸ªå›æ–‡å­ä¸²ã€‚è‹¥<code>startIndex</code>åˆ°<code>i</code>æ˜¯å›æ–‡å­ä¸²ï¼Œåˆ™è®°å½•åˆ°<code>path</code>ï¼Œç„¶åä»<code>i+1</code>é€’å½’å³å¯ã€‚<br>
è‡³äºåˆ¤æ–­æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼Œè¿™é‡Œå†™äº†ä¸¤ä¸ªç‰ˆæœ¬ã€‚ä¸€ç§æ˜¯å¸¸è§„ä½¿ç”¨åŒæŒ‡é’ˆæ¥åˆ¤æ–­å­—ç¬¦ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼ˆ<code>isPalindrome</code>ï¼‰ï¼›å¦ä¸€ç§æ˜¯ä¼˜åŒ–æ–¹æ³•ï¼Œä½¿ç”¨äº†åŠ¨æ€è§„åˆ’åšé¢„å¤„ç†ï¼Œæå‰ç®—å¥½æ‰€æœ‰å­ä¸²æ˜¯å¦æ˜¯å›æ–‡ä¸²ï¼ˆ<code>palindromeTable</code>ï¼‰ï¼Œåˆ¤æ–­çš„æ—¶å€™ç›´æ¥æŸ¥è¡¨å³å¯ï¼Œé¿å…äº†é‡å¤è®¡ç®—ã€‚</p>
<pre><code class="language-c++">class Solution {
    vector&lt;vector&lt;bool&gt;&gt; palindromeTable;

    bool isPalindrome(const string &amp;s, int startIndex, int endIndex) {
        while (startIndex &lt;= endIndex) {
            if (s[startIndex] != s[endIndex]) {
                return false;
            }
            ++startIndex;
            --endIndex;
        }
        return true;
    }

    void backtracking(const string &amp;s, int startIndex, vector&lt;string&gt; &amp;path,
                      vector&lt;vector&lt;string&gt;&gt; &amp;result) {
        int size = s.size();
        if (startIndex &gt;= size) {
            result.push_back(path);
            return;
        }

        for (int i = startIndex; i &lt; size; ++i) {
            // if (isPalindrome(s, startIndex, i)) {
            if (palindromeTable[startIndex][i]) {
                path.push_back(s.substr(startIndex, i - startIndex + 1));
                backtracking(s, i + 1, path, result);
                path.pop_back();
            }
        }
    }

  public:
    vector&lt;vector&lt;string&gt;&gt; partition(string s) {
        vector&lt;string&gt; path;
        vector&lt;vector&lt;string&gt;&gt; result;

        int size = s.size();
        palindromeTable.assign(size, vector&lt;bool&gt;(size, true));
        for (int i = size - 1; i &gt;= 0; --i) {
            for (int j = i + 1; j &lt; size; ++j) {
                palindromeTable[i][j] =
                    palindromeTable[i + 1][j - 1] &amp;&amp; s[i] == s[j];
            }
        }

        backtracking(s, 0, path, result);

        return result;
    }
};
</code></pre>
<h2 id="51-n-queens">[51] N-Queens</h2>
<blockquote>
<p>éš¾åº¦ï¼šHard<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/n-queens/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
å¤§åé¼é¼çš„Nçš‡åé—®é¢˜ã€‚çœ‹ä¼¼æš´åŠ›ç©·ä¸¾çš„èƒŒååˆå­˜åœ¨è®¸å¤šå¯å‰ªæä¼˜åŒ–çš„ç©ºé—´ã€‚</p>
<ul>
<li>æ¯è½®é€’å½’æ— éœ€ä¸¤ä¸ªåæ ‡è½´åŒé‡å¾ªç¯éå†ã€‚æˆ‘ä»¬å¯è§„å®šé€’å½’çš„é¡ºåºæ˜¯ä»æœ€ä¸Šé¢ä¸€è¡Œåˆ°æœ€ä¸‹é¢ä¸€è¡Œï¼Œæ¯æ¬¡åœ¨ä¸€è¡Œé‡Œé¢æ‰¾ä¸‹ä¸€ä¸ªNçš‡åçš„ä½ç½®ã€‚è¿™æ ·ä¸€æ–¹é¢ä¿è¯äº†é¡ºåºï¼ˆé˜²æ­¢å‡ºç°é‡å¤ç»“æœï¼‰ï¼Œå¦ä¸€æ–¹é¢æˆ‘ä»¬å®é™…åªéœ€è¦ä¸€å±‚å¾ªç¯ï¼Œå³éå†è¿™ä¸€è¡Œçš„ä½ç½®ï¼Œçœ‹å“ªä¸€åˆ—å¯ä½œä¸ºNçš‡åçš„ä½ç½®å³å¯ã€‚å¦‚æœæ‰¾åˆ°ä½ç½®ï¼Œå†é€’å½’è¿›å…¥ä¸‹ä¸€è¡Œçš„éå†æŸ¥æ‰¾ã€‚</li>
<li>æ£€æŸ¥ä½ç½®æ˜¯å¦åˆæ³•æ—¶ï¼Œç”±äºæˆ‘ä»¬å¡«Nçš‡åçš„ä½ç½®æ˜¯ä»ä¸Šåˆ°ä¸‹ï¼ˆæŒ‰è¡Œï¼‰æ¥å¡«çš„ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥è¡Œåæ ‡å°äºå½“å‰åæ ‡çš„é‚£äº›ä½ç½®å³å¯ï¼Œå¯å‡å°‘æ£€æŸ¥åˆ¤æ–­çš„æ•°é‡ã€‚ï¼ˆè¦æ³¨æ„çš‡åé™¤äº†æ¨ªç€ç«–ç€è¿˜èƒ½æ–œç€èµ°ï¼Œä¸€å¼€å§‹ä¸äº†è§£è§„åˆ™éƒ½æ²¡æ³¨æ„è¿™ä¸ªï¼‰</li>
</ul>
<p>å½“æˆ‘ä»¬æœ€åå¡«å®Œäº†æœ€åä¸€è¡Œï¼ˆ<code>n == row</code>ï¼‰ï¼Œè¯´æ˜æ¯ä¸€è¡Œæˆ‘ä»¬éƒ½å·²ç»æ‰¾åˆ°äº†ä¸€ä¸ªåˆæ³•çš„Nçš‡åçš„ä½ç½®ï¼Œå°†æ­¤æ—¶çš„æ£‹ç›˜åŠ å…¥ç»“æœå³å¯ï¼ˆ<code>result.push_back(board);</code>ï¼‰ã€‚</p>
<pre><code class="language-c++">class Solution {
    bool check(int n, int x, int y, const vector&lt;string&gt; &amp;board) {
        for (int i = 0; i &lt; x; ++i) {
            if (board[i][y] == 'Q') {
                return false;
            }
        }

        const vector&lt;pair&lt;int, int&gt;&gt; direction = {{-1, 1}, {-1, -1}};
        for (int i = 1; i &lt; n; ++i) {
            for (auto [dx, dy] : direction) {
                int nx = x + i * dx;
                int ny = y + i * dy;
                if (nx &lt; 0 || ny &lt; 0 || ny &gt;= n) {
                    continue;
                }
                if (board[nx][ny] == 'Q') {
                    return false;
                }
            }
        }
        return true;
    }

    void backtracking(int n, int row, vector&lt;string&gt; &amp;board,
                      vector&lt;vector&lt;string&gt;&gt; &amp;result) {
        if (n == row) {
            result.push_back(board);
            return;
        }

        for (int j = 0; j &lt; n; ++j) {
            if (check(n, row, j, board)) {
                board[row][j] = 'Q';
                backtracking(n, row + 1, board, result);
                board[row][j] = '.';
            }
        }
    }

  public:
    vector&lt;vector&lt;string&gt;&gt; solveNQueens(int n) {
        vector&lt;string&gt; board(n, string(n, '.'));
        vector&lt;vector&lt;string&gt;&gt; result;

        backtracking(n, 0, board, result);

        return result;
    }
};
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å›æº¯çš„é¢˜ç›®åŸºæœ¬éƒ½å­˜åœ¨ä¸€å¥—å‡½æ•°æ¨¡ç‰ˆï¼š</p>
<pre><code class="language-c++">void backtracking(parameters) {
    if (termination_condition) {
        store_result;
        return;
    }

    for (choice : elements in the current level's set (the number of children of a tree node is the size of the set)) {
        process_node;
        backtracking(path, choices); // recursive call
        backtrack, undo processing result
    }
}
</code></pre>
<p>è¿™é‡Œçš„å‡ é“é¢˜ç›®çš„ä»£ç åŸºæœ¬éƒ½æ˜¯æŒ‰ç€ä¸Šé¢çš„æ¨¡ç‰ˆæ¥çš„ï¼Œæ— éæœ‰ä¸€äº›å°ä¿®æ”¹ã€‚é™¤äº†<a href="#22-generate-parentheses">[22] Generate Parentheses</a>åœ¨é€’å½’ä¸Šç•¥ä¸ºç‰¹æ®Šï¼Œå…¶è®°å½•äº†å‰©ä½™å·¦æ‹¬å·å’Œå³æ‹¬å·çš„æ•°é‡ï¼Œç„¶åå†æ ¹æ®è¯¥æ•°é‡å…³ç³»æ¥å†³å®šå¦‚ä½•é€’å½’ã€‚</p>
<h2 id="è¡¥å……">è¡¥å……</h2>
<h3 id="47-permutations-ii">[47] Permutations II</h3>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/permutations-ii/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
æœ¬é¢˜ä¸º<a href="#46-permutations">[46] Permutations</a>çš„è¿›é˜¶ç‰ˆæœ¬ï¼Œç›¸æ¯”å‰ä¸€é“é¢˜å¤šäº†æ•°å­—å¯é‡å¤çš„æ¡ä»¶ï¼Œå› æ­¤è¦è€ƒè™‘ç»“æœå»é‡çš„é—®é¢˜ã€‚æœ¬äººåœ¨å­—èŠ‚ä¸€é¢åšå®Œä¸Šé¢˜åéšåè¢«è¿½é—®åˆ°äº†è¿™ä¸ªè¿›é˜¶ç‰ˆæœ¬çš„é¢˜ç›®ã€‚<br>
åšæ³•åº”è¯¥æ˜¯å…ˆæŠŠæ•°ç»„æ’åºï¼Œä½¿ç›¸åŒçš„æ•°å­—éƒ½åœ¨ä¸€èµ·ã€‚ç„¶åï¼Œæˆ‘ä»¬å¸Œæœ›ç›¸åŒä¸€ä¸ªæ•°å­—çš„ä½¿ç”¨æƒ…å†µä¸€å®šæ˜¯ä»å·¦åˆ°å³ï¼Œä¾‹å¦‚æœ‰<code>[1, 2a, 2b, 3]</code>ï¼ˆå…¶ä¸­çš„abç”¨æ¥æ ‡è¯†ï¼‰ï¼Œæˆ‘ä»¬å¸Œæœ›åªå‡ºç°å…ˆé€‰<code>2a</code>å†é€‰<code>2b</code>ï¼Œè€Œä¸ä¼šé€‰äº†<code>2b</code>åˆé€‰<code>2a</code>çš„æƒ…å†µå‡ºç°ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åœ¨åŸæ¥æ¡ä»¶<code>used[i]</code>çš„åŸºç¡€ä¸Šï¼Œåˆå¢åŠ äº†<code>nums[i] == nums[i - 1] &amp;&amp; !used[i - 1]</code>çš„åˆ¤æ–­æ¡ä»¶ã€‚å³ï¼Œå¦‚æœä¸Šä¸€ä¸ªæ•°å­—å’Œå½“å‰æ•°å­—ç›¸ç­‰ï¼Œä¸”ä¸Šä¸€ä¸ªæ•°å­—è¿˜æ²¡é€‰ï¼Œé‚£ä¹ˆå½“å‰æ•°å­—ä¹Ÿä¸è¯¥è¢«é€‰ã€‚</p>
<pre><code class="language-c++">class Solution {
    void backtracking(vector&lt;int&gt; &amp;nums, vector&lt;bool&gt; &amp;used, vector&lt;int&gt; &amp;path,
                      vector&lt;vector&lt;int&gt;&gt; &amp;result) {
        int n = nums.size();
        if (path.size() &gt;= n) {
            result.emplace_back(path);
            return;
        }

        for (int i = 0; i &lt; n; ++i) {
            if (used[i] || i &gt; 0 &amp;&amp; nums[i] == nums[i - 1] &amp;&amp; !used[i - 1]) {
                continue;
            }
            used[i] = true;
            path.push_back(nums[i]);
            backtracking(nums, used, path, result);
            path.pop_back();
            used[i] = false;
        }
    }

  public:
    vector&lt;vector&lt;int&gt;&gt; permuteUnique(vector&lt;int&gt; &amp;nums) {
        vector&lt;vector&lt;int&gt;&gt; result;
        vector&lt;int&gt; path;
        vector&lt;bool&gt; used(nums.size(), false);

        sort(nums.begin(), nums.end());

        backtracking(nums, used, path, result);

        return result;
    }
};
</code></pre>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#46-permutations">[46] Permutations</a></li>
<li><a href="#78-subsets">[78] Subsets</a></li>
<li><a href="#17-letter-combinations-of-a-phone-number">[17] Letter Combinations of a Phone Number</a></li>
<li><a href="#39-combination-sum">[39] Combination Sum</a></li>
<li><a href="#22-generate-parentheses">[22] Generate Parentheses</a></li>
<li><a href="#79-word-search">[79] Word Search</a></li>
<li><a href="#131-palindrome-partitioning">[131] Palindrome Partitioning</a></li>
<li><a href="#51-n-queens">[51] N-Queens</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
<li><a href="#%E8%A1%A5%E5%85%85">è¡¥å……</a>
<ul>
<li><a href="#47-permutations-ii">[47] Permutations II</a></li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://alleny.xyz/post/leetcode-graph/">
              <h3 class="post-title">
                LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'alleny-blog',
  apikey: '2kPJh2tQ0rWB7n0QOhvb9TLbm946tHMWCixW2qGF9j8tfMBgZoNPfvLpDoxZTZpD',
}
if ('https://disqus.hangyu-yuan.workers.dev/api/') {
  options.api = 'https://disqus.hangyu-yuan.workers.dev/api/'
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Copyright Â© 2023-2025 Allen Yuan. All rights reserved.
  <a class="rss" href="https://alleny.xyz/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
