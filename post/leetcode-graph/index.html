<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰ | AllenY&#39;s blog</title>
<link rel="shortcut icon" href="https://alleny.xyz/favicon.ico?v=1747120786321">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://alleny.xyz/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰ | AllenY&#39;s blog - Atom Feed" href="https://alleny.xyz/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HPLP8D1S43"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HPLP8D1S43');
</script>


    <meta name="description" content="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚
ä¹‹åä¸ºäº†æé«˜æ•ˆç‡ï¼Œè½¬è€Œä»¥Hot 100ä½œä¸ºåˆ·é¢˜è“å›¾ã€‚

[200] Number of Islands

éš¾åº¦ï¼šMedium
è¯­è¨€ï¼šC++

é¢˜ç›®æè¿°ã€‚
æŠŠ1çœ‹æˆèŠ‚ç‚¹ï¼Œä¸Šä¸‹å·¦å³ç›¸é‚»çš„1ä¹‹é—´çœ‹æˆæœ‰..." />
    <meta name="keywords" content="LeetCode" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://alleny.xyz">
  <img class="avatar" src="https://alleny.xyz/images/avatar.png?v=1747120786321" alt="">
  </a>
  <h1 class="site-title">
    AllenY&#39;s blog
  </h1>
  <p class="site-description">
    ğŸ§‘ğŸ»â€ğŸ’»ğŸ®ğŸ¿ğŸ¹ğŸ—»
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tags
        </a>
      
    
      
        <a href="/post/about" class="menu">
          About
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Yuan-Allen" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
        <a href="https://weibo.com/u/6478080851" target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰
            </h2>
            <div class="post-info">
              <span>
                2024-10-28
              </span>
              <span>
                7 min read
              </span>
              
                <a href="https://alleny.xyz/tag/leetcode/" class="post-tag">
                  # LeetCode
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›¾è®ºç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚<br>
ä¹‹åä¸ºäº†æé«˜æ•ˆç‡ï¼Œè½¬è€Œä»¥<a href="https://leetcode.cn/studyplan/top-100-liked/">Hot 100</a>ä½œä¸ºåˆ·é¢˜è“å›¾ã€‚</p>
<!-- more -->
<h2 id="200-number-of-islands">[200] Number of Islands</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/number-of-islands/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
æŠŠ<code>1</code>çœ‹æˆèŠ‚ç‚¹ï¼Œä¸Šä¸‹å·¦å³ç›¸é‚»çš„<code>1</code>ä¹‹é—´çœ‹æˆæœ‰è¾¹ï¼Œç›¸å½“äºæ±‚å›¾æœ‰å‡ ä¸ªè¿é€šåˆ†é‡ã€‚ä¾æ¬¡ä»¥ä¸åŒçš„èµ·ç‚¹åšéå†ï¼ŒæŸ¥çœ‹æœ‰å‡ ä¸ªå¯å¼€å§‹éå†çš„èµ·ç‚¹å³å¯ã€‚éå†ä½¿ç”¨DFSæˆ–BFSéƒ½å¯ä»¥ï¼Œè¿™é‡Œä¹ŸåŒæ—¶ç»™å‡ºäº†ä¸¤ç§éå†çš„å†™æ³•ã€‚</p>
<pre><code class="language-c++">class Solution {
 public:
  void dfs(vector&lt;vector&lt;char&gt;&gt;&amp; grid, vector&lt;vector&lt;bool&gt;&gt;&amp; visited, int x,
           int y, const vector&lt;pair&lt;int, int&gt;&gt;&amp; directions) {
    visited[x][y] = true;
    int m = grid.size(), n = grid[0].size();

    for (auto [dx, dy] : directions) {
      int nx = x + dx, ny = y + dy;
      if (nx &gt;= 0 &amp;&amp; ny &gt;= 0 &amp;&amp; nx &lt; m &amp;&amp; ny &lt; n &amp;&amp; !visited[nx][ny] &amp;&amp;
          grid[nx][ny] == '1') {
        dfs(grid, visited, nx, ny, directions);
      }
    }
  }

  // use DFS
  int numIslands(vector&lt;vector&lt;char&gt;&gt;&amp; grid) {
    int m = grid.size(), n = grid[0].size(), result = 0;
    vector&lt;vector&lt;bool&gt;&gt; visited(m, vector&lt;bool&gt;(n, false));
    vector&lt;pair&lt;int, int&gt;&gt; directions = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};

    for (int i = 0; i &lt; m; ++i) {
      for (int j = 0; j &lt; n; ++j) {
        if (!visited[i][j] &amp;&amp; grid[i][j] == '1') {
          ++result;
          dfs(grid, visited, i, j, directions);
        }
      }
    }
    return result;
  }

  // use BFS
  int numIslandsBFS(vector&lt;vector&lt;char&gt;&gt;&amp; grid) {
    int m = grid.size(), n = grid[0].size(), result = 0;
    vector&lt;vector&lt;bool&gt;&gt; visited(m, vector&lt;bool&gt;(n, false));
    vector&lt;pair&lt;int, int&gt;&gt; directions = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    queue&lt;pair&lt;int, int&gt;&gt; q;

    for (int i = 0; i &lt; m; ++i) {
      for (int j = 0; j &lt; n; ++j) {
        if (!visited[i][j] &amp;&amp; grid[i][j] == '1') {
          ++result;
          q.push({i, j});
          visited[i][j] = true;

          while (!q.empty()) {
            auto [x, y] = q.front();
            q.pop();

            for (auto [dx, dy] : directions) {
              int nx = x + dx, ny = y + dy;
              if (nx &gt;= 0 &amp;&amp; ny &gt;= 0 &amp;&amp; nx &lt; m &amp;&amp; ny &lt; n &amp;&amp; !visited[nx][ny] &amp;&amp;
                  grid[nx][ny] == '1') {
                q.push({nx, ny});
                visited[nx][ny] = true;
              }
            }
          }
        }
      }
    }
    return result;
  }
};
</code></pre>
<h2 id="994-rotting-oranges">[994] Rotting Oranges</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/rotting-oranges/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
æ¨¡æ‹Ÿå¹¿åº¦ä¼˜å…ˆæœç´¢ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæˆ‘ä»¬ä¸ºäº†æŠŠæ¯ä¸€è½®æ–°è®¿é—®åˆ°çš„èŠ‚ç‚¹åŒºåˆ†å‡ºæ¥ï¼Œéœ€è¦å…ˆè®°å½•ä¸€ä¸‹é˜Ÿåˆ—çš„å¤§å°ï¼Œç„¶åå¤„ç†è¯¥æŒ‡å®šæ•°é‡çš„å…ƒç´ æ¥ä½œä¸ºBFSçš„ä¸€è½®ï¼ˆç±»ä¼¼äºæ ‘çš„å±‚åºéå†ï¼Œä¸ºäº†åŒºåˆ†å‡ºæ¯ä¸€å±‚ï¼Œé˜Ÿåˆ—å¤§å°å°±æ˜¯è¯¥å±‚çš„èŠ‚ç‚¹æ•°é‡ï¼‰ã€‚</p>
<pre><code class="language-c++">class Solution {
 public:
  int orangesRotting(vector&lt;vector&lt;int&gt;&gt;&amp; grid) {
    int nr = grid.size();
    int nc = grid[0].size();
    vector&lt;pair&lt;int, int&gt;&gt; directions = {{1, 0}, {0, 1}, {-1, 0}, {0, -1}};
    int result = 0;
    queue&lt;pair&lt;int, int&gt;&gt; q;
    int count = 0;

    for (int i = 0; i &lt; nr; ++i) {
      for (int j = 0; j &lt; nc; ++j) {
        if (grid[i][j] == 1) {
          count += 1;
        } else if (grid[i][j] == 2) {
          q.push({i, j});
        }
      }
    }

    while (count &gt; 0 &amp;&amp; !q.empty()) {
      ++result;
      int size = q.size();
      for (int i = 0; i &lt; size; ++i) {
        auto [x, y] = q.front();
        q.pop();
        for (auto [dx, dy] : directions) {
          int nx = x + dx, ny = y + dy;
          if (nx &gt;= 0 &amp;&amp; ny &gt;= 0 &amp;&amp; nx &lt; nr &amp;&amp; ny &lt; nc &amp;&amp; grid[nx][ny] == 1) {
            grid[nx][ny] = 2;
            count -= 1;
            q.push({nx, ny});
          }
        }
      }
    };

    return count ? -1 : result;
  }
};
</code></pre>
<h2 id="207-course-schedule">[207] Course Schedule</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/course-schedule/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
åŸºæœ¬çš„æ‹“æ‰‘æ’åºï¼Œåªä¸è¿‡ä»ç®—æ³•å˜æˆå…·ä½“å®ç°çš„ä»£ç éœ€è¦æ³¨æ„çš„ç»†èŠ‚è¿˜æ˜¯æ¯”è¾ƒå¤šã€‚<br>
å…ˆæŠŠè¾“å…¥<code>prerequisites</code>è½¬æˆé‚»æ¥è¡¨ä»¥åŠåŒæ—¶ç»Ÿè®¡èŠ‚ç‚¹åº¦æ•°ï¼Œç„¶åæŠŠå…¥åº¦ä¸º0çš„ç‚¹æ”¾å…¥é˜Ÿåˆ—è¿›è¡ŒBFSå³å¯ï¼ˆéå†åˆ°çš„èŠ‚ç‚¹ä»å›¾ä¸­å»æ‰ï¼Œå–æ–°çš„å…¥åº¦ä¸º0çš„èŠ‚ç‚¹å…¥é˜Ÿï¼‰ã€‚æœ€åæŸ¥çœ‹æ˜¯å¦æ¯ä¸ªèŠ‚ç‚¹éƒ½éå†åˆ°äº†ï¼ˆèƒ½ä»å›¾ä¸­å»æ‰ï¼‰å³å¯ã€‚<br>
è¿™é“é¢˜ä¹Ÿå¯ä½¿ç”¨DFSï¼Œå¯å‚è€ƒ<a href="https://leetcode.cn/problems/course-schedule/solutions/359392/ke-cheng-biao-by-leetcode-solution/">è¿™ç¯‡solution</a>ã€‚</p>
<pre><code class="language-c++">class Solution {
 public:
  bool canFinish(int numCourses, vector&lt;vector&lt;int&gt;&gt;&amp; prerequisites) {
    unordered_map&lt;int, vector&lt;int&gt;&gt; map;
    vector&lt;int&gt; degree(numCourses, 0);
    for (auto edge : prerequisites) {
      map[edge[1]].push_back(edge[0]);
      degree[edge[0]] += 1;
    }

    queue&lt;int&gt; q;
    for (int i = 0; i &lt; numCourses; ++i) {
      if (degree[i] == 0) {
        q.push(i);
      }
    }

    int visited = 0;
    while (!q.empty()) {
      ++visited;
      int cur = q.front();
      q.pop();
      for (auto course : map[cur]) {
        if (--degree[course] == 0) {
          q.push(course);
        }
      }
    }

    return visited == numCourses;
  }
};
</code></pre>
<h2 id="208-implement-trie-prefix-tree">[208] Implement Trie (Prefix Tree)</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/implement-trie-prefix-tree/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
é¢˜ç›®é™å®šäº†è‹±æ–‡å°å†™å­—ç¬¦ï¼Œå› æ­¤ç›´æ¥æŒ‡å®š26ä¸ªchildrenï¼Œä»¥childrençš„indexæ¥å¯¹åº”ç›¸åº”çš„å°å†™å­—ç¬¦ã€‚æ­¤å¤–ï¼Œä½¿ç”¨<code>bool</code>å˜é‡<code>isEnd</code>æ¥è¡¨ç¤ºå½“å‰<code>node</code>æ˜¯å¦å¯ä½œä¸ºå•è¯çš„ç»“å°¾ã€‚<br>
æ’å…¥æ—¶ç±»ä¼¼é“¾è¡¨ï¼Œä¸€å±‚ä¸€å±‚å¾€ä¸‹æ’å…¥ï¼Œåœ¨ç»“å°¾<code>node</code>æ ‡è®°ä¸€ä¸‹<code>isEnd</code>ä¸º<code>true</code>å³å¯ã€‚æŸ¥æ‰¾æ—¶ä¹Ÿç±»ä¼¼é“¾è¡¨æŸ¥æ‰¾ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯<code>search</code>éœ€è¦æœ€åæ‰¾åˆ°çš„<code>node</code>åˆšå¥½æ˜¯å¯ä½œä¸ºç»“å°¾çš„<code>node</code>ï¼ˆ<code>isEnd</code>ä¸º<code>true</code>ï¼‰ï¼Œè€Œ<code>startWith</code>åªéœ€è¦æ‰¾åˆ°å¯¹åº”<code>node</code>ï¼ˆè¯´æ˜å­˜åœ¨è¯¥å‰ç¼€ï¼‰å³å¯ã€‚</p>
<pre><code class="language-c++">class Trie {
  vector&lt;Trie*&gt; children;
  bool isEnd;

 public:
  Trie() {
    isEnd = false;
    children = vector&lt;Trie*&gt;(26);
  }

  void insert(string word) {
    Trie* node = this;
    for (auto c : word) {
      if (node-&gt;children[c - 'a'] == nullptr) {
        node-&gt;children[c - 'a'] = new Trie();
      }
      node = node-&gt;children[c - 'a'];
    }
    node-&gt;isEnd = true;
  }

  bool search(string word) {
    Trie* node = this;
    for (auto c : word) {
      if (node-&gt;children[c - 'a'] == nullptr) {
        return false;
      }
      node = node-&gt;children[c - 'a'];
    }
    return node-&gt;isEnd;
  }

  bool startsWith(string prefix) {
    Trie* node = this;
    for (auto c : prefix) {
      if (node-&gt;children[c - 'a'] == nullptr) {
        return false;
      }
      node = node-&gt;children[c - 'a'];
    }
    return true;
  }
};
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>ç”±äºç°åœ¨æš‚æ—¶æ”¹æˆæŒ‰ç…§Hot 100æ¥åˆ·ï¼Œæ‰€ä»¥ç›¸æ¯”ä¹‹å‰é•¿ç¯‡çš„äºŒå‰æ ‘ï¼Œè¿™é‡Œå›¾è®ºåªåˆ·äº†4é“ã€‚<br>
é¦–å…ˆè¦æ³¨æ„çš„æ˜¯å›¾çš„è¡¨ç¤ºå½¢å¼ï¼Œæœ‰é‚»æ¥è¡¨å’Œé‚»æ¥çŸ©é˜µï¼Œä½†ä¸€èˆ¬æ¥è¯´é‚»æ¥è¡¨ç”¨å¾—å¤šä¸€äº›ã€‚ï¼ˆè‹¥ç¨ å¯†å›¾ï¼Œä¹Ÿå¯ä½¿ç”¨é‚»æ¥çŸ©é˜µï¼‰ã€‚<br>
å›¾çš„éå†æ–¹å¼ä¸»è¦æ˜¯DFSä¸BFSï¼Œä¸€äº›é¢˜ç›®ä½¿ç”¨ä¸¤ç§éå†æ–¹å¼éƒ½å¯ï¼ˆ<a href="#200-number-of-islands">200</a>ã€<a href="#207-course-schedule">207</a>ï¼‰ï¼Œä¸€äº›é¢˜ç›®åˆ™åªé€‚åˆå…¶ä¸­ä¸€ç§ï¼ˆ<a href="#994-rotting-oranges">994</a>ï¼‰ã€‚<br>
æœ€åçš„å®ç°å‰ç¼€æ ‘ï¼ˆ<a href="#208-implement-trie-prefix-tree">208</a>ï¼‰åˆ™å’Œé“¾è¡¨çš„æ“ä½œå¾ˆç±»ä¼¼ï¼Œåªä¸è¿‡ä¸€ä¸ªèŠ‚ç‚¹åŒæ—¶å¯¹åº”äº†å¾ˆå¤šä¸ªåç»§è€Œå·²ã€‚</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#200-number-of-islands">[200] Number of Islands</a></li>
<li><a href="#994-rotting-oranges">[994] Rotting Oranges</a></li>
<li><a href="#207-course-schedule">[207] Course Schedule</a></li>
<li><a href="#208-implement-trie-prefix-tree">[208] Implement Trie (Prefix Tree)</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://alleny.xyz/post/powerinfer-source-analysis-3/">
              <h3 class="post-title">
                PowerInferæºç è§£æï¼ˆä¸‰ï¼‰ï¼šç®—å­å®ç°
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'alleny-blog',
  apikey: '2kPJh2tQ0rWB7n0QOhvb9TLbm946tHMWCixW2qGF9j8tfMBgZoNPfvLpDoxZTZpD',
}
if ('https://disqus.hangyu-yuan.workers.dev/api/') {
  options.api = 'https://disqus.hangyu-yuan.workers.dev/api/'
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Copyright Â© 2023-2025 Allen Yuan. All rights reserved.
  <a class="rss" href="https://alleny.xyz/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
