<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆäºŒåˆ†æŸ¥æ‰¾ç¯‡ï¼‰ | AllenY&#39;s blog</title>
<link rel="shortcut icon" href="https://alleny.xyz/favicon.ico?v=1747120786321">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://alleny.xyz/styles/main.css">
<link rel="alternate" type="application/atom+xml" title="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆäºŒåˆ†æŸ¥æ‰¾ç¯‡ï¼‰ | AllenY&#39;s blog - Atom Feed" href="https://alleny.xyz/atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">


<script async src="https://www.googletagmanager.com/gtag/js?id=G-HPLP8D1S43"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-HPLP8D1S43');
</script>


    <meta name="description" content="LeetCodeåˆ·é¢˜è®°å½•ï¼ˆäºŒåˆ†æŸ¥æ‰¾ç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚

[35] Search Insert Position

éš¾åº¦ï¼šEasy
è¯­è¨€ï¼šC++

é¢˜ç›®æè¿°ã€‚
åŸºæœ¬çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå¯»æ‰¾æ’å…¥ä½ç½®ï¼ˆå³ä½¿ä¸å­˜åœ¨ï¼Œä¹Ÿåº”è¯¥è¿”å›å¯ä»¥æ’å…¥çš„ä½ç½®..." />
    <meta name="keywords" content="LeetCode" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://alleny.xyz">
  <img class="avatar" src="https://alleny.xyz/images/avatar.png?v=1747120786321" alt="">
  </a>
  <h1 class="site-title">
    AllenY&#39;s blog
  </h1>
  <p class="site-description">
    ğŸ§‘ğŸ»â€ğŸ’»ğŸ®ğŸ¿ğŸ¹ğŸ—»
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          Home
        </a>
      
    
      
        <a href="/archives" class="menu">
          Archive
        </a>
      
    
      
        <a href="/tags" class="menu">
          Tags
        </a>
      
    
      
        <a href="/post/about" class="menu">
          About
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/Yuan-Allen" target="_blank">
          <i class="ri-github-line"></i>
        </a>
      
    
      
    
      
        <a href="https://weibo.com/u/6478080851" target="_blank">
          <i class="ri-weibo-line"></i>
        </a>
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              LeetCodeåˆ·é¢˜è®°å½•ï¼ˆäºŒåˆ†æŸ¥æ‰¾ç¯‡ï¼‰
            </h2>
            <div class="post-info">
              <span>
                2024-11-12
              </span>
              <span>
                11 min read
              </span>
              
                <a href="https://alleny.xyz/tag/leetcode/" class="post-tag">
                  # LeetCode
                </a>
              
            </div>
            
            <div class="post-content-wrapper">
              <div class="post-content" v-pre>
                <p>LeetCodeåˆ·é¢˜è®°å½•ï¼ˆäºŒåˆ†æŸ¥æ‰¾ç¯‡ï¼‰ï¼Œä¸ªäººå‘ã€‚</p>
<!-- more -->
<h2 id="35-search-insert-position">[35] Search Insert Position</h2>
<blockquote>
<p>éš¾åº¦ï¼šEasy<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/search-insert-position/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
åŸºæœ¬çš„äºŒåˆ†æŸ¥æ‰¾ï¼Œåœ¨æ­¤åŸºç¡€ä¸Šå¢åŠ äº†ä¸€ä¸ªå¯»æ‰¾æ’å…¥ä½ç½®ï¼ˆå³ä½¿ä¸å­˜åœ¨ï¼Œä¹Ÿåº”è¯¥è¿”å›å¯ä»¥æ’å…¥çš„ä½ç½®ï¼‰ã€‚æ­¤ç±»é¢˜ç›®æ³¨æ„å¾ªç¯ä¸å˜é‡å³å¯ï¼Œä¾‹å¦‚ä»¥ä¸‹ä»£ç åšæŒäº†å·¦é—­å³å¼€<code>[left, right)</code>çš„å†™æ³•ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    int searchInsert(vector&lt;int&gt; &amp;nums, int target) {
        int left = 0;
        int right = nums.size();
        while (left &lt; right) {
            int mid = (left + right) / 2;
            if (nums[mid] == target) {
                return mid;
            }
            if (target &gt; nums[mid]) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }

        return right;
    }
};
</code></pre>
<h2 id="74-search-a-2d-matrix">[74] Search a 2D Matrix</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/search-a-2d-matrix/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
ä¸¤æ¬¡äºŒåˆ†æŸ¥æ‰¾ï¼Œæ²¡ä»€ä¹ˆå¥½è¯´çš„ã€‚éœ€è¦æ³¨æ„ç¬¬ä¸€æ¬¡æŸ¥æ‰¾çš„ç»“æœæ˜¯<code>down - 1</code>ã€‚<br>
è¿˜æœ‰ä¸€ç§è§£æ³•æ˜¯æŠŠçŸ©é˜µæ‹‰å¹³ï¼Œå³æŠŠçŸ©é˜µçš„å‡ è¡Œæ‹¼èµ·æ¥æˆä¸€è¡Œæ•°ç»„ï¼Œç„¶åç›´æ¥åœ¨æ•°ç»„ä¸Šåšä¸€æ¬¡äºŒåˆ†æŸ¥æ‰¾ã€‚å¯å‚è€ƒ<a href="https://leetcode.cn/problems/search-a-2d-matrix/solutions/688117/sou-suo-er-wei-ju-zhen-by-leetcode-solut-vxui/">è¿™ç¯‡solution</a>ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    bool searchMatrix(vector&lt;vector&lt;int&gt;&gt; &amp;matrix, int target) {
        int m = matrix.size();
        int n = matrix[0].size();
        int up = 0;
        int down = m;
        int row = 0;
        while (up &lt; down) {
            row = up + (down - up) / 2; // To avoid overflow
            if (target == matrix[row][0]) {
                return true;
            } else if (target &lt; matrix[row][0]) {
                down = row;
            } else {
                up = row + 1;
            }
        }
        row = down - 1;
        if (row &lt; 0) {
            return false;
        }
        int left = 0;
        int right = n;
        while (left &lt; right) {
            int col = left + (right - left) / 2;
            if (target == matrix[row][col]) {
                return true;
            } else if (target &lt; matrix[row][col]) {
                right = col;
            } else {
                left = col + 1;
            }
        }
        return false;
    }
};
</code></pre>
<h2 id="34-find-first-and-last-position-of-element-in-sorted-array">[34] Find First and Last Position of Element in Sorted Array</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/find-first-and-last-position-of-element-in-sorted-array/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
å…ˆå°è¯•è‡ªå·±å†™äº†ä¸€ç§è§£æ³•ã€‚å…ˆç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°<code>target</code>ï¼Œå†åœ¨è¯¥æ•°å­—å·¦è¾¹ï¼ˆåŒ…æ‹¬è¯¥æ•°å­—ï¼‰ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°æœ€å·¦çš„<code>target</code>ï¼ˆå³å·¦è¾¹çš„æ•°å­—ä¸ç­‰äº<code>target</code>ï¼‰ï¼ŒåŒç†å†æ‰¾åˆ°æœ€å³çš„<code>target</code>ï¼Œæœ€åè¿”å›å³å¯ã€‚ä½†è¯¥ä»£ç å¤ªè¿‡ç¹çå†—é•¿ã€‚<br>
å¦ä¸€ç§è§£æ³•çš„æ ¸å¿ƒæ˜¯ï¼Œé€šè¿‡è°ƒæ•´<code>nums[mid] == target</code>æ—¶æ˜¯åº”è¯¥è°ƒæ•´å·¦è¾¹ç•Œè¿˜æ˜¯å³è¾¹ç•Œï¼Œæ¥æ‰¾åˆ°<code>target</code>çš„å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œï¼Œæœ€åè¿”å›å³å¯ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    vector&lt;int&gt; searchRangeDivide(vector&lt;int&gt; &amp;nums, int target) {
        int size = nums.size();
        if (size == 0) {
            return vector&lt;int&gt;(2, -1);
        }
        int left = 0, right = size;
        int mid = 0;
        vector&lt;int&gt; result;
        while (left &lt; right) {
            mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                break;
            } else if (nums[mid] &lt; target) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        if (nums[mid] != target) {
            result.assign(2, -1);
            return result;
        }

        if (mid == 0 || nums[mid - 1] != target) {
            result.push_back(mid);
        } else {
            int left_left = 0, left_right = mid + 1;
            while (left_left &lt; left_right) {
                int left_mid = left_left + (left_right - left_left) / 2;
                if (nums[left_mid] == target &amp;&amp;
                    (left_mid == 0 || nums[left_mid - 1] != target)) {
                    result.push_back(left_mid);
                    break;
                } else if (nums[left_mid] &gt;= target) {
                    left_right = left_mid;
                } else {
                    left_left = left_mid + 1;
                }
            }
        }

        if (mid == size - 1 || nums[mid + 1] != target) {
            result.push_back(mid);
        } else {
            int right_left = mid, right_right = size;
            while (right_left &lt; right_right) {
                int right_mid = right_left + (right_right - right_left) / 2;
                if (nums[right_mid] == target &amp;&amp;
                    (right_mid == size - 1 || nums[right_mid + 1] != target)) {
                    result.push_back(right_mid);
                    break;
                } else if (nums[right_mid] &lt;= target) {
                    right_left = right_mid + 1;
                } else {
                    right_right = right_mid;
                }
            }
        }

        return result;
    }

    int findTarget(const vector&lt;int&gt; &amp;nums, int target, bool left_flag) {
        int left = 0, right = nums.size();
        int border = -1;
        while (left &lt; right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                border = mid;
                if (left_flag) {
                    right = mid;
                } else {
                    left = mid + 1;
                }
            } else if (nums[mid] &lt; target) {
                left = mid + 1;
            } else {
                right = mid;
            }
        }
        return border;
    }

    vector&lt;int&gt; searchRange(vector&lt;int&gt; &amp;nums, int target) {
        int left = findTarget(nums, target, true);
        int right = findTarget(nums, target, false);
        if (left == -1 || right == -1) {
            return {-1, -1};
        } else if (right &gt;= left) {
            return {left, right};
        } else {
            return {-1, -1};
        }
    }
};
</code></pre>
<h2 id="33-search-in-rotated-sorted-array">[33] Search in Rotated Sorted Array</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
åˆ¤æ–­<code>first</code>å³<code>nums[0]</code>ä¸<code>target</code>å’Œ<code>nums[mid]</code>ä¸‰è€…ä¹‹é—´çš„å¤§å°å…³ç³»å³å¯ã€‚<code>nums[mid] &lt; target</code>çš„æƒ…å†µä¸‹ï¼Œå¯èƒ½<code>target</code>æ¯”<code>first</code>å¤§ï¼Œå³<code>target</code>åœ¨å·¦è¾¹çš„é€’å¢åºåˆ—éƒ¨åˆ†ï¼Œè€Œ<code>nums[mid]</code>åœ¨å³è¾¹çš„åºåˆ—éƒ¨åˆ†ï¼Œæ­¤æ—¶åº”è¯¥è°ƒæ•´å³æŒ‡é’ˆè€Œä¸æ˜¯å·¦æŒ‡é’ˆã€‚åŒç†ï¼Œ<code>target &lt;= nums[mid]</code>çš„æƒ…å†µä¹Ÿæœ‰å¯èƒ½æ˜¯<code>first ... nums[mid] ... target</code>è¿™æ ·çš„æ’åˆ—ï¼Œæ­¤æ—¶åº”è¯¥è°ƒæ•´å·¦æŒ‡é’ˆè€Œä¸æ˜¯å³æŒ‡é’ˆã€‚<br>
å¦ä¸€ç§æ€è€ƒæ–¹å¼æ˜¯ï¼Œå…ˆè€ƒè™‘<code>nums[mid]</code>å’Œ<code>first</code>ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œä»è€Œå¾—çŸ¥æ˜¯<code>nums[mid]</code>å·¦è¾¹æœ‰åºè¿˜æ˜¯å³è¾¹æœ‰åºï¼Œç„¶åæ ¹æ®<code>target</code>æ˜¯å¦è½åœ¨è¯¥æœ‰åºéƒ¨åˆ†æ¥å†³å®šæ˜¯è¯¥æœç´¢<code>mid</code>å·¦è¾¹è¿˜æ˜¯å³è¾¹ã€‚å…·ä½“å¯å‚è€ƒ<a href="https://leetcode.cn/problems/search-in-rotated-sorted-array/solutions/220083/sou-suo-xuan-zhuan-pai-xu-shu-zu-by-leetcode-solut/">è¿™ç¯‡solution</a>ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    int search(vector&lt;int&gt; &amp;nums, int target) {
        int left = 0;
        int right = nums.size();
        int first = nums[0];
        while (left &lt; right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] == target) {
                return mid;
            }
            if (nums[mid] &lt; target) {
                if (first &lt;= target &amp;&amp;
                    first &gt;= nums[mid]) { // first ... target ... nums[mid]
                    right = mid;
                } else {
                    left = mid + 1;
                }
            } else {
                if (target &lt; first &amp;&amp;
                    nums[mid] &gt;= first) { // first ... nums[mid] ... target
                    left = mid + 1;
                } else {
                    right = mid;
                }
            }
        }

        return -1;
    }
};
</code></pre>
<h2 id="153-find-minimum-in-rotated-sorted-array">[153] Find Minimum in Rotated Sorted Array</h2>
<blockquote>
<p>éš¾åº¦ï¼šMedium<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/find-minimum-in-rotated-sorted-array/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
åˆ¤æ–­<code>nums[mid]</code>ä¸å³è¾¹ç•Œå…ƒç´ å³<code>nums[right]</code>ä¹‹é—´çš„å¤§å°å…³ç³»ã€‚å¦‚æœ<code>nums[mid] &lt; nums[right]</code>ï¼Œåˆ™è¯´æ˜<code>nums[mid]</code>åœ¨æ•°ç»„å³è¾¹é€’å¢éƒ¨åˆ†ï¼ˆè¾ƒå°éƒ¨åˆ†ï¼‰ï¼Œæœ€å°å€¼ç´¢å¼•åœ¨<code>[left, mid]</code>ä¹‹é—´ï¼Œå¯è°ƒæ•´å³æŒ‡é’ˆä½¿æŸ¥æ‰¾èŒƒå›´é å·¦ï¼›åä¹‹åˆ™è°ƒæ•´å·¦æŒ‡é’ˆä½¿æŸ¥æ‰¾èŒƒå›´é å³ã€‚ç”±äºæ˜¯é—­åŒºé—´ï¼Œæœ€ç»ˆä¼š<code>left == right</code>å³åŒºé—´é•¿åº¦ä¸ºä¸€ï¼Œæ­¤æ—¶è¿”å›ç»“æœå³å¯ã€‚</p>
<pre><code class="language-c++">class Solution {
  public:
    int findMin(vector&lt;int&gt; &amp;nums) {
        int left = 0;
        int right = nums.size() - 1;
        while (left &lt; right) {
            int mid = left + (right - left) / 2;
            if (nums[mid] &lt; nums[right]) {
                right = mid;
            } else {
                left = mid + 1;
            }
        }
        return nums[right];
    }
};
</code></pre>
<h2 id="4-median-of-two-sorted-arrays">[4] Median of Two Sorted Arrays</h2>
<blockquote>
<p>éš¾åº¦ï¼šHard<br>
è¯­è¨€ï¼šC++</p>
</blockquote>
<p><a href="https://leetcode.cn/problems/median-of-two-sorted-arrays/description/">é¢˜ç›®æè¿°</a>ã€‚<br>
è¾ƒæœ‰æŒ‘æˆ˜æ€§çš„ä¸€é“é¢˜ç›®ã€‚å³ä½¿çŸ¥é“å¤§æ¦‚çš„ç®—æ³•ï¼Œå®é™…å®ç°æ—¶ä¹Ÿè¦æ³¨æ„å„ç§è¾¹ç•Œæ¡ä»¶çš„å¤„ç†ç­‰ã€‚</p>
<ul>
<li>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å‡è®¾<code>nums1</code>çš„é•¿åº¦ä¸é•¿äº<code>nums2</code>ã€‚å¦‚æœä¸æ»¡è¶³ï¼Œå°±äº¤æ¢ä¸€ä¸‹<code>nums1</code>å’Œ<code>nums2</code>å³å¯ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬æƒ³æ‰¾åˆ°ä¸€ä¸ªåˆ’åˆ†ï¼Œè¯¥åˆ’åˆ†æŠŠ<code>nums1</code>å’Œ<code>nums2</code>å„è‡ªåˆ†ä¸ºäº†å·¦å³éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥ç§°å…¶ä¸º<code>nums1_left_part</code>, <code>nums1_right_part</code>, <code>nums2_left_part</code>å’Œ<code>nums2_right_part</code>ã€‚è¯¥åˆ’åˆ†æ»¡è¶³ï¼š</p>
<ul>
<li>å¦‚æœæ€»é•¿åº¦<code>m + n</code>ä¸ºå¶æ•°ï¼Œåˆ™åˆ’åˆ†å·¦éƒ¨åˆ†ï¼ˆå³<code>nums1_left_part</code>ä¸<code>nums2_left_part</code>ï¼‰é•¿åº¦ä¹‹å’Œä¸å³éƒ¨åˆ†ç›¸ç­‰ï¼›è‹¥ä¸ºå¥‡æ•°ï¼Œåˆ™å·¦éƒ¨åˆ†æ•°é‡æ¯”å³éƒ¨åˆ†å¤š1ã€‚</li>
<li>å·¦éƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ å‡ä¸å¤§äºå³éƒ¨åˆ†çš„æ‰€æœ‰å…ƒç´ ã€‚</li>
</ul>
<p>å½“æˆ‘ä»¬æ‰¾åˆ°äº†è¿™æ ·çš„ä¸€ä¸ªåˆ’åˆ†ï¼Œä¸­ä½æ•°å°±æ˜¯å·¦éƒ¨åˆ†çš„æœ€å¤§å…ƒç´ å’Œå³éƒ¨åˆ†çš„æœ€å°å…ƒç´ çš„å¹³å‡å€¼ï¼ˆæˆ–è€…å°±æ˜¯å·¦è¾¹çš„æœ€å¤§å…ƒç´ ï¼Œå–å†³äº<code>m + n</code>æ˜¯å¦ä¸ºå¥‡æ•°ï¼‰ã€‚</p>
</li>
<li>
<p>æˆ‘ä»¬å¯ä»¥é€šè¿‡äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ¥æ‰¾åˆ°è¿™ä¸ªåˆ’åˆ†çš„ä½ç½®ã€‚å…ˆä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ‰¾åˆ°<code>nums1</code>ä¸­çš„åˆ’åˆ†ä½ç½®<code>i</code>ï¼Œç„¶åä»¥æ­¤ä½œä¸ºè‡ªå˜é‡ï¼ŒæŠŠ<code>nums2</code>å¯¹åº”çš„åˆ’åˆ†ä½ç½®<code>j</code>ä½œä¸ºå› å˜é‡ï¼Œé€šè¿‡<code>i + j = (m + n + 1) / 2</code>çš„æ–¹å¼æŠŠ<code>j</code>ç®—å‡ºæ¥ã€‚<code>+1</code>æ˜¯ä¸ºäº†ä¿è¯å·¦åŠéƒ¨åˆ†å…ƒç´ çš„æ•°é‡å¤§äºç­‰äºå³åŠéƒ¨åˆ†çš„æ•°é‡ï¼ˆå¦‚æœæ˜¯å¶æ•°ï¼Œæ²¡æœ‰å½±å“ï¼›å¦‚æœæ˜¯å¥‡æ•°ï¼Œåˆ™å·¦è¾¹æ¯”å³è¾¹å¤š1ï¼‰ã€‚</p>
</li>
<li>
<p>ç„¶åï¼Œæˆ‘ä»¬æ¯”è¾ƒåˆ’åˆ†å·¦å³çš„å››ä¸ªå…ƒç´ ï¼Œæ¥ç€æ¯”è¾ƒ<code>nums1[i-1]</code>å’Œ<code>nums2[j]</code>çš„å¤§å°ã€‚è‹¥æ»¡è¶³<code>nums1[i-1] &lt;= nums2[j]</code>ï¼Œåˆ™è®°å½•æ­¤æ—¶å·¦è¾¹æœ€å¤§å€¼å’Œå³è¾¹æœ€å°å€¼ï¼Œç„¶åæ›´æ–°å·¦æŒ‡é’ˆï¼ˆå°è¯•ä»<code>nums1</code>çš„æ›´å³è¾¹å»åˆ’åˆ†ï¼‰ï¼›å¦åˆ™ï¼Œæ›´æ–°å³æŒ‡é’ˆï¼ˆè¯´æ˜<code>nums1</code>åˆ’åˆ†å¾—å¤ªé å³äº†ï¼Œéœ€è¦å¾€å·¦åˆ’åˆ†æ¥å‡å°<code>nums1[i-1]</code>çš„å€¼åŒæ—¶å¢å¤§<code>nums2[j]</code>çš„å€¼ï¼‰ã€‚è¿™æ ·ï¼Œæˆ‘ä»¬ä¼šæ‰¾åˆ°ä¸€ä¸ªæœ€å¤§çš„<code>i</code>ä½¿å¾—<code>nums1[i-1] &lt;= nums2[j]</code>ï¼Œæ­¤æ—¶ä¹Ÿä¼šè‡ªåŠ¨æ»¡è¶³<code>nums2[j-1] &lt;= nums1[i]</code>ï¼Œè¿™æ˜¯å› ä¸º<code>i</code>å·²ç»æ˜¯æœ€å¤§çš„ï¼Œè¯´æ˜<code>i+1</code>ä¸æ»¡è¶³ï¼Œè¯´æ˜<code>nums1[i]</code> &gt;= <code>nums2[j-1]</code>ï¼Œå°±æ­£å¥½æ˜¯ç¬¬äºŒä¸ªå…¬å¼ã€‚è¿™æ ·ä¸€æ¥ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†åˆ’åˆ†çš„ä½ç½®ï¼Œåœ¨ä¿è¯å·¦å³å…ƒç´ æ•°é‡ç›¸ç­‰ï¼ˆæˆ–å·¦è¾¹å¤šä¸€ï¼‰çš„åŒæ—¶ä½¿å·¦è¾¹çš„æ‰€æœ‰å…ƒç´ å‡ä¸å¤§äºå³è¾¹çš„æ‰€æœ‰å…ƒç´ ã€‚</p>
</li>
<li>
<p>æœ€åï¼Œæ ¹æ®<code>m + n</code>æ˜¯å¦æ˜¯å¶æ•°ï¼Œè¿”å›å·¦è¾¹æœ€å¤§å€¼(<code>median1</code>)ä¸å³è¾¹æœ€å°å€¼(<code>median2</code>)çš„å¹³å‡å€¼æˆ–ç›´æ¥è¿”å›<code>median1</code>å³å¯ã€‚</p>
</li>
</ul>
<pre><code class="language-c++">class Solution {
  public:
    double findMedianSortedArrays(vector&lt;int&gt; &amp;nums1, vector&lt;int&gt; &amp;nums2) {
        if (nums1.size() &gt; nums2.size()) {
            // to make sure that nums1.size() &lt;= nums2.size()
            return findMedianSortedArrays(nums2, nums1);
        }

        int m = nums1.size();
        int n = nums2.size();
        int left = 0, right = m;
        int median1 = 0, median2 = 0;

        while (left &lt;= right) {
            int i = (left + right) / 2;
            // i + j = (m + n + 1) / 2
            int j = (m + n + 1) / 2 - i;

            int nums_im1 = (i == 0 ? INT_MIN : nums1[i - 1]);
            int nums_i = (i == m ? INT_MAX : nums1[i]);
            int nums_jm1 = (j == 0 ? INT_MIN : nums2[j - 1]);
            int nums_j = (j == n ? INT_MAX : nums2[j]);

            if (nums_im1 &lt;= nums_j) {
                median1 = max(nums_im1, nums_jm1);
                median2 = min(nums_i, nums_j);
                left = i + 1;
            } else {
                right = i - 1;
            }
        }

        return (m + n) % 2 == 0 ? (median1 + median2) / 2.0 : median1;
    }
};
</code></pre>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>å®šä¹‰å·¦è¾¹ç•Œ<code>left</code>å’Œå³è¾¹ç•Œ<code>right</code>ï¼Œç„¶ååˆ¤æ–­<code>mid</code>ä¸ç›®æ ‡<code>target</code>ä¹‹é—´çš„å¤§å°å…³ç³»ï¼Œä»¥æ­¤æ¥æ›´æ–°å·¦è¾¹ç•Œæˆ–è€…å³è¾¹ç•Œï¼Œåº”è¯¥æ˜¯äºŒåˆ†æŸ¥æ‰¾ç±»é¢˜çš„åŸºç¡€æ¨¡ç‰ˆã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œéœ€è¦çº¦å®šå¥½å·¦è¾¹ç•Œå’Œå³è¾¹ç•Œåˆ†åˆ«æ˜¯å¼€åŒºé—´è¿˜æ˜¯é—­åŒºé—´ï¼Œç„¶ååœ¨å®ç°æ—¶å§‹ç»ˆéµå®ˆè¿™ä¸€ç‚¹ã€‚ä¾‹å¦‚æœ¬äººä¹ æƒ¯å®šä¹‰<code>[left, right)</code>ï¼Œåˆ™<code>while</code>å¾ªç¯çš„æ¡ä»¶åº”è¯¥æ˜¯<code>left &lt; right</code>è€Œä¸æ˜¯<code>left &lt;= right</code>ã€‚</p>
<p><a href="#33-search-in-rotated-sorted-array">33</a>å’Œ<a href="#153-find-minimum-in-rotated-sorted-array">153</a>éƒ½æ¶‰åŠåˆ°äº†Rotated Sorted Arrayã€‚è¿™é‡Œå¯ä»¥é€šè¿‡å¯¹æ¯”<code>mid</code>ä¸arrayç¬¬ä¸€ä¸ªå…ƒç´ æˆ–æœ€åä¸€ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»æ¥å¾—çŸ¥<code>mid</code>å¤„äºå“ªä¸€æ®µæœ‰åºåºåˆ—ä¸­ï¼Œä»¥æ­¤ä¿¡æ¯æ¥è°ƒæ•´<code>left</code>æˆ–<code>right</code>ã€‚</p>
<p>æœ€åçš„<a href="#4-median-of-two-sorted-arrays">4</a>æ˜¯è¾ƒæœ‰éš¾åº¦çš„é¢˜ã€‚è¿™é‡Œæˆ‘ä»¬å…ˆç¡®ä¿<code>nums1.size() &lt;= nums2.size()</code>ï¼Œç„¶åä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾çš„æ–¹å¼æ‰¾åˆ°<code>nums1</code>ä¸­çš„åˆ’åˆ†ä½ç½®<code>i</code>ï¼Œå¹¶ä»¥æ­¤ä¸ºè‡ªå˜é‡è®¡ç®—å‡º<code>nums2</code>ä¸­çš„åˆ’åˆ†ä½ç½®å‡º<code>j</code>ã€‚æˆ‘ä»¬é€šè¿‡æ¯”è¾ƒåˆ’åˆ†å·¦å³å››ä¸ªå…ƒç´ çš„å¤§å°å…³ç³»ï¼ˆå®é™…åªéœ€è¦æ¯”è¾ƒä¸¤ä¸ªå³<code>nums1[i-1]</code>å’Œ<code>nums2[j]</code>)æ¥æ›´æ–°å·¦æˆ–å³æŒ‡é’ˆï¼Œç›´åˆ°æ‰¾åˆ°æœ€å¤§çš„<code>i</code>ä½¿å¾—<code>nums1[i-1] &lt;= nums2[j]</code>ï¼Œæ­¤æ—¶ç›´æ¥è®¡ç®—å‡ºä¸­ä½æ•°å³å¯ï¼ˆ<code>(median1 + median2) / 2.0</code>æˆ–<code>median1</code>ï¼‰ã€‚</p>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li>
<ul>
<li><a href="#35-search-insert-position">[35] Search Insert Position</a></li>
<li><a href="#74-search-a-2d-matrix">[74] Search a 2D Matrix</a></li>
<li><a href="#34-find-first-and-last-position-of-element-in-sorted-array">[34] Find First and Last Position of Element in Sorted Array</a></li>
<li><a href="#33-search-in-rotated-sorted-array">[33] Search in Rotated Sorted Array</a></li>
<li><a href="#153-find-minimum-in-rotated-sorted-array">[153] Find Minimum in Rotated Sorted Array</a></li>
<li><a href="#4-median-of-two-sorted-arrays">[4] Median of Two Sorted Arrays</a></li>
<li><a href="#%E6%80%BB%E7%BB%93">æ€»ç»“</a></li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://alleny.xyz/post/leetcode-backtracking/">
              <h3 class="post-title">
                LeetCodeåˆ·é¢˜è®°å½•ï¼ˆå›æº¯ç¯‡ï¼‰
              </h3>
            </a>
          </div>
        

        
          

          
            <link rel="stylesheet" href="https://unpkg.com/disqusjs@1.1/dist/disqusjs.css">
<script src="https://unpkg.com/disqusjs@1.1/dist/disqus.js"></script>

<div id="disqus_thread"></div>

<script>

var options = {
  shortname: 'alleny-blog',
  apikey: '2kPJh2tQ0rWB7n0QOhvb9TLbm946tHMWCixW2qGF9j8tfMBgZoNPfvLpDoxZTZpD',
}
if ('https://disqus.hangyu-yuan.workers.dev/api/') {
  options.api = 'https://disqus.hangyu-yuan.workers.dev/api/'
}
var dsqjs = new DisqusJS(options)

</script>

          
        

        <div class="site-footer">
  Copyright Â© 2023-2025 Allen Yuan. All rights reserved.
  <a class="rss" href="https://alleny.xyz/atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
